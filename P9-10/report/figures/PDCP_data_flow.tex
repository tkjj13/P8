\begin{tikzpicture}[scale=.5]


\node (v2) at (-0.5,8) {NAS};
\draw  (-1,7) rectangle (-14,-9);
\draw  (0,7) rectangle (13,-9);
\node[anchor=west] at (-14,6) {Transmitting side};
\node[anchor=east] at (13,6) {Receiving side};

\draw  (-10,5) rectangle (-5,3);
\node at (-7.5,4) {\begin{tabular}{c} Sequence \\[-0.9em] numbering \end{tabular}};
\draw  (-13,1) rectangle (-8,-1);
\node at (-10.5,0) {\begin{tabular}{c} Integrity \\[-0.9em] protection \end{tabular}};
\draw  (-7,1) rectangle (-2,-1);
\node at (-4.5,0) {\begin{tabular}{c} Header \\[-0.9em] compression \end{tabular}};
\draw  (-11,-3) rectangle (-4,-5);
\node at (-7.5,-4) {Ciphering};
\draw  (-13,-6) rectangle (-7,-8) node (v1) {};
\draw  (v1) rectangle (-2,-6);
\node at (-10,-7) {PDCP header};
\node at (-4.5,-7) {Data field};
\node (v12) at (-7,-10) {RLC};

\node (v3) at (-7.5,5) {};
\node (v4) at (-7.5,3) {};
\node (v5) at (-10.5,1) {};
\node (v6) at (-4.5,1) {};
\node (v9) at (-4.5,-1) {};
\node (v7) at (-10.5,-1) {};
\node (v8) at (-7.5,-3) {};
\node (v10) at (-7,-5) {};
\node (v11) at (-4.5,-6) {};
\draw  [arrows={- triangle 45}] (v2) edge (v3);
\draw  [arrows={- triangle 45}] (v4) edge (v5);
\draw  [arrows={- triangle 45}] (v4) edge (v6);
\draw  [arrows={- triangle 45}] (v7) edge (v8);
\draw  [arrows={- triangle 45}] (v9) edge (v8);
\draw  [arrows={- triangle 45}] (v10) edge (v11);
\draw  [arrows={- triangle 45}] (v1) edge (v12);
\node[anchor=east] at (-9.2,2) {\begin{tabular}{c} \textbf{Control} \\[-0.9em] \textbf{Plane} \end{tabular}};
\node[anchor=west] at (-5.4,2) {\begin{tabular}{c} \textbf{User} \\[-0.9em] \textbf{Plane} \end{tabular}};

\draw  (12,5) rectangle (7,3);
\node at (9.5,4) {Reordeing};
\draw  (6,1) rectangle (1,-1);
\node at (3.5,0) {\begin{tabular}{c} Integrity \\[-0.9em] protection \end{tabular}};
\draw  (12,1) rectangle (7,-1);
\node at (9.5,0) {\begin{tabular}{c} Header \\[-0.9em] decompression \end{tabular}};
\draw  (10,-3) rectangle (3,-5);
\node at (6.5,-4) {Deciphering};
\draw  (12,-6) rectangle (7,-8) node (v1) {};
\draw  (v1) rectangle (1,-6);
\node at (4,-7) {PDCP header};
\node at (9.5,-7) {Data field};

\node (v3) at (-7.5,5) {};
\node (v4) at (-7.5,3) {};
\node (v5) at (3.5,1) {};
\node (v6) at (9.5,1) {};
\node (v9) at (9.5,-1) {};
\node (v7) at (3.5,-1) {};
\node (v8) at (6.5,-3) {};
\node (v10) at (6,-5) {};
\node (v11) at (9.5,-6) {};
\node (v14) at (9.5,3) {};
\node (v15) at (7,4) {};
\node (v13) at (7,-10) {RLC};

\draw [arrows={- triangle 45}] (v13) edge (v1);
\draw [arrows={- triangle 45}] (v11) edge (v10);
\draw [arrows={- triangle 45}] (v8) edge (v7);
\draw [arrows={- triangle 45}] (v8) edge (v9);
\draw [arrows={- triangle 45}] (v6) edge (v14);
\draw [arrows={- triangle 45}] (v15) edge (v2);
\draw [arrows={triangle 45 - triangle 45}] (v5) edge (v2);
\node[anchor=east] at (4.3,-2) {\begin{tabular}{c} \textbf{Control} \\[-0.9em] \textbf{Plane} \end{tabular}};
\node[anchor=west] at (8.5,-2) {\begin{tabular}{c} \textbf{User} \\[-0.9em] \textbf{Plane} \end{tabular}};

\end{tikzpicture}