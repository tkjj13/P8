% This file was created by matlab2tikz.
%
%The latest updates can be retrieved from
%  http://www.mathworks.com/matlabcentral/fileexchange/22022-matlab2tikz-matlab2tikz
%where you can also make suggestions and rate matlab2tikz.
%
\definecolor{mycolor1}{rgb}{0.20810,0.16630,0.52920}%
\definecolor{mycolor2}{rgb}{0.01651,0.42660,0.87863}%
\definecolor{mycolor3}{rgb}{0.02650,0.61370,0.81350}%
\definecolor{mycolor4}{rgb}{0.21783,0.72504,0.61926}%
\definecolor{mycolor5}{rgb}{0.64730,0.74560,0.41880}%
\definecolor{mycolor6}{rgb}{0.99377,0.74546,0.24035}%
\definecolor{mycolor7}{rgb}{0.97630,0.98310,0.05380}%
%
\begin{tikzpicture}

\begin{axis}[%
width=.8\textwidth,
height=.533\textwidth,
at={(0.533in,0.481in)},
scale only axis,
bar width=0.5,
xmin=-0.5,
xmax=15.5,
xtick={0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15},
xticklabels={{Base},{1},{2},{3},{4},{5},{6},{7},{8},{9},{10},{11},{12},{13},{14},{15}},
xlabel={Number of devices},
ymin=0,
ymax=100,
ylabel={Trials ($\%$)},
axis background/.style={fill=white},
title style={font=\bfseries},
title={Error distrubution},
legend style={at={(1.03,1)},anchor=north west,legend cell align=left,align=left,draw=white!15!black}
]
\addplot[ybar stacked,draw=black,fill=mycolor1,area legend] plot table[row sep=crcr] {%
0	90\\
1	75\\
2	60\\
3	75\\
4	85\\
5	60\\
6	70\\
7	70\\
8	80\\
9	85\\
10	50\\
11	70\\
12	80\\
13	0\\
14	0\\
15	0\\
};
\addlegendentry{No errors};

\addplot[ybar stacked,draw=black,fill=mycolor2,area legend] plot table[row sep=crcr] {%
0	0\\
1	0\\
2	0\\
3	0\\
4	0\\
5	0\\
6	0\\
7	0\\
8	5\\
9	0\\
10	0\\
11	0\\
12	0\\
13	5\\
14	0\\
15	0\\
};
\addlegendentry{Cell sync error};

\addplot[ybar stacked,draw=black,fill=mycolor3,area legend] plot table[row sep=crcr] {%
0	10\\
1	10\\
2	10\\
3	10\\
4	0\\
5	15\\
6	15\\
7	5\\
8	10\\
9	5\\
10	15\\
11	15\\
12	10\\
13	0\\
14	15\\
15	5\\
};
\addlegendentry{Radio error};

\addplot[ybar stacked,draw=black,fill=mycolor4,area legend] plot table[row sep=crcr] {%
0	0\\
1	10\\
2	30\\
3	15\\
4	15\\
5	25\\
6	10\\
7	25\\
8	5\\
9	5\\
10	30\\
11	5\\
12	5\\
13	80\\
14	65\\
15	60\\
};
\addlegendentry{Idle after MIB-NB};

\addplot[ybar stacked,draw=black,fill=mycolor5,area legend] plot table[row sep=crcr] {%
0	0\\
1	0\\
2	0\\
3	0\\
4	0\\
5	0\\
6	0\\
7	0\\
8	0\\
9	5\\
10	5\\
11	10\\
12	5\\
13	5\\
14	10\\
15	20\\
};
\addlegendentry{Transmission after NB-SIB1};

\addplot[ybar stacked,draw=black,fill=mycolor6,area legend] plot table[row sep=crcr] {%
0	0\\
1	0\\
2	0\\
3	0\\
4	0\\
5	0\\
6	5\\
7	0\\
8	0\\
9	0\\
10	0\\
11	0\\
12	0\\
13	10\\
14	10\\
15	10\\
};
\addlegendentry{NPRACH error};

\addplot[ybar stacked,draw=black,fill=mycolor7,area legend] plot table[row sep=crcr] {%
0	0\\
1	5\\
2	0\\
3	0\\
4	0\\
5	0\\
6	0\\
7	0\\
8	0\\
9	0\\
10	0\\
11	0\\
12	0\\
13	0\\
14	0\\
15	5\\
};
\addlegendentry{Msg2 not received};

\end{axis}
\end{tikzpicture}%